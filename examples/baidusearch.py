#!/usr/local/bin/python3.7

from airtest.core.api import *

config = {
    "HOST": "127.0.0.1",
    "PORT": 5037,
    "SERIAL": "DU2TAN149K054894",
    "APP": "com.baidu.searchbox",
    "APK": "/Users/zhangzheng/Downloads/baidusearch_AndroidPhone_1019919g.apk"
}

# connect an android phone with adb
connect_device("android://%s:%s/%s?cap_method=javacap&touch_method=adb" % (config["HOST"], config["PORT"], config["SERIAL"]))
wakeup()
home()

install(config["APK"])
sleep(10)
wakeup()

start_app(config["APP"])
sleep(10)
wakeup()

stop_app(config["APP"])
sleep(10)
wakeup()

uninstall(config["APP"])
